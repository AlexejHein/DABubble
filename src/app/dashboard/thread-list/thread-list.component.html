<div *ngFor="let thread of allThreadsFiltered; let i = index" (mouseenter)="showThreadMenu(i)" (mouseleave)="hideThreadMenu()">
<div class="message-direction">
    <div class="message-card">
      <div *ngFor="let user of allUsers">
        <div class="message-box" *ngIf="user.id === thread.authorId">
          <div *ngIf=" hoveredIndex==i" class="choose" >
            <div (click)="selectEmoForThread('âœ…', thread.id)">âœ…</div>
            <div (click)="selectEmoForThread('ðŸ™Œ', thread.id)">ðŸ™Œ</div>
            <img src="./assets/img/add_reaction.png" >
          </div>
          <img [src]="user.avatar" alt="Avatar" class="user-avatar">
          <div>
            <div class="message-head">
              <b>{{ user.name }}</b>
              <!--<small>{{ thread.createdAt | date:'HH:mm':'UTC' }}</small>-->
            </div>
            <div class="message-item">{{thread.title}}</div>
            <div class="reactions" *ngIf="thread.reactions && thread.reactions.length > 0">
              <div *ngFor="let reactionCount of getReactionCounts(thread.reactions) | keyvalue">
                <div class="reactions-item">{{reactionCount.key}} {{reactionCount.value}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
